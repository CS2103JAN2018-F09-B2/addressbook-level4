= ReciRecipé - User Guide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images/userguide
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/CS2103JAN2018-F09-B2/main

By: `Team F09-B2`      Since: `Jan 2018`      Licence: `MIT`

== Introduction

// tag::applicationDescription[]
*<<ReciRecipe,ReciRecipé>>* is for those who *prefer to use a desktop app for managing recipes*. More importantly, ReciRecipé is *optimized for those who prefer to work with a Command Line Interface* (<<CLI,CLI>>) while still having the benefits of a Graphical User Interface (<<GUI, GUI>>).
// end::applicationDescription[]
If you can type fast, ReciRecipé can get your recipe management done faster than traditional GUI apps. Interested? Jump to <<Quick start>> to get started. Enjoy!

== Quick start

[TIP]
You can use kbd:[Ctrl]+kbd:[F] to search for words in the user guide.

To start using ReciRecipé, please follow the steps below carefully.

.  Ensure you have Java Runtime Environment 1.8.0_60 or later installed in your Computer. You can download from http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html[here].
+
[NOTE]
Having any Java 8 version is not enough. +
This app will not work with earlier versions of Java 8.
+
.  Download the latest _recipebook.jar_ link:{repoURL}/releases[here].
.  Copy the file to the folder you want to use as the home folder for your Recipe Book.
.  Double-click the file to start the app. The GUI should appear in a few seconds (refer to Figure 1).
+
.GUI for ReciRecipe
image::Ui.png[width="790"]
{nbsp} +
.  Type the command in the command box and press kbd:[Enter] to execute it. +
E.g. typing `help` and pressing kbd:[Enter] will open the help window.

[[Features]]
== Features

// tag::command-format[]
[[CommandFormat]]
*Command Format*

* Words in upper case are the parameters to be supplied by the user. For example, in `add name/NAME calories/CALORIES`, *_NAME_* and *_CALORIES_* are parameters which can be substituted in this manner *`add name/Chicken rice calories/500`*.
** *_INGREDIENT_* is a list of ingredients, delimited by commas. E.g. `chicken,fish,rice` and `chicken, fish, rice` are valid.
** *_INSTRUCTION_* can receive multiple lines as its value.
** *_TIME_* fields accept a number of formats: `1h20m`, `1h20min`, `1 hour 20 minutes`, `80m`, `80min`, `80 mins`, etc. However, sticking to the most simple format `80m` is recommended.
** *_CALORIES_* and *_SERVINGS_* are positive numbers. E.g. `120`, `5000`, etc.
** *_URL_* takes a valid website address as its value. E.g. `http://google.com`.
** *_IMAGE_* takes a valid image path as its value (E.g. for macOS: `/Users/administrator/Desktop/image.png`, for windows: `C:\Users\admin\image.png`).
* Items in square brackets are optional e.g `name/NAME [tag/TAG]` can be used as *`name/Chicken rice tag/chicken`* or as *`name/Chicken rice`*.
* Items with `...` after them can be used multiple times including zero times e.g. `[tag/TAG]...` can be used as `{nbsp}` (i.e. 0 times), *`tag/rice`*, *`tag/rice tag/chicken`*, etc.
* Parameters can be in any order. E.g. if the command specifies `name/RECIPE_NAME instruction/INSTRUCTION`, `instruction/INSTRUCTION name/RECIPE_NAME` has the same effect.
// end::command-format[]

// tag::app-navigation[]
[[Navigation]]
*Navigation*

* Press kbd:[Enter] while holding down kbd:[Shift] to add a new line to your input.
* Press kbd:[Enter] to submit a command.
* Pressing the kbd:[&uarr;] and kbd:[&darr;] arrows while holding down kbd:[Ctrl] will display the previous and next input respectively in the command box.
// end::app-navigation[]

=== *`add`* : Adding a recipe

Adds a recipe to the recipe book.

Format: `add name/RECIPE_NAME [ingredient/INGREDIENT] [instruction/INSTRUCTION] [cooking_time/COOKING_TIME] [preparation_time/PREPARATION_TIME] [calories/CALORIES] [servings/SERVINGS] [url/URL] [img/IMAGE] [tag/TAG]...`

[TIP]
====
You can add any number of tags (including 0) for a recipe.
====

****
* See <<CommandFormat,Command Format>> for more details on which input is acceptable for each field.
* White spaces after a colon are automatically trimmed. For example, `add name/ Chicken rice` and `add name/Chicken rice` are the same. However, the former is more visually pleasing.
* Press kbd:[Enter] while holding down kbd:[Shift] to add a new line to your input.
* *_INSTRUCTION_* can receive multiple lines as a valid input.
* You can split a command into multiple lines for ease of input.
****

Examples:

* *`add name/Chicken Rice ingredient/chicken, rice cooking_time/10m tag/good tag/fast`*
[TIP]
You can split the command into multiple lines as shown in the figure below. In case you forgot how to add a new line, it's kbd:[Shift]+kbd:[Enter].
+
.Add a recipe with multiple lines
image::AddCommandEg2.png[width="750"]

{nbsp} +
If you follow the instructions correctly, the result box will inform you and your recipe will be added to the book (<<fig-AddRecipeResult>>).
{nbsp} +
{nbsp}

[[fig-AddRecipeResult]]
.After adding a recipe
image::AddCommandResultEg.png[width="750"]
{nbsp} +

[TIP]
You can use kbd:[Shift]+kbd:[Tab] for command auto-completion. After choosing auto-completion for a command, all fields associated with that command will be automatically filled.
+
.Add command before auto-completion
image::AddCommandAfterAutoCompletion.png[width="750"]
{nbsp} +
.Add command after auto-completion
image::AddCommandAfterAutoCompletion.png[width="750"]

[TIP]
You can use kbd:[Tab] to quickly move the caret to next field.

=== *`clear`* : Clearing all entries

Clears all entries from the recipe book.

Format: `clear`

See figure below for the expected behavior of this command. +
{nbsp}

.Effect of the clear command
image::ClearCommand.png[width="750"]
{nbsp} +
[TIP]
If you clear your recipe book by mistake, you can reverse the command with an `undo`.

=== *`delete`* : Deleting a recipe

Deletes the specified recipe from the recipe book.

Format: `delete INDEX`

****
* The index refers to the index number shown in the most recent listing.
* The index *must be a positive integer*, e.g. 1, 2, 3, ...
****

Examples:

* *`list`* +
*`delete 2`* +
Deletes the 2nd recipe in the recipe book.
* *`find Chicken`* +
*`delete 1`* +
Deletes the 1st recipe in the results of the *`find`* command.

=== *`edit`* : Editing a recipe

Edits an existing recipe in the recipe book.

Format: `edit INDEX [name/RECIPE_NAME] [ingredient/INGREDIENT] [instruction/INSTRUCTION] [cooking_time/COOKING_TIME] [preparation_time/PREPARATION_TIME] [calories/CALORIES] [servings/SERVINGS] [url/URL] [tag/TAG]`

****
* See <<CommandFormat,Command Format>> for more details on which input is acceptable for each field.
* *_INDEX_* refers to the index number shown in the last recipe listing. The index *must be a positive integer* 1, 2, 3, ...
* At least one of the optional fields *must* be provided.
* Existing values will be updated to the input values.
* When editing tags, the existing tags of the recipe will be removed, i.e. adding of tags is not cumulative.
* You can remove all the recipe's tags by typing `t/` without specifying any tags after it.
****

Examples:

* *`edit 1 ingredient/fish, bread cooking_time/5m`* +
Edits the ingredient and cooking time of the 1st recipe to be `_fish, bread_` and `_5m_` respectively.
* *`edit 2 name/Pizza tag/`* +
Edits the name of the 2nd recipe to be `_Pizza_` and clears all of its existing tags.

=== *`exit`* : Exiting the program

Exits the program.

Format: `exit`

=== *`find`* : Locating recipes by name

Finds recipes whose names contain any of the given keywords.

Format: `find KEYWORD [MORE_KEYWORDS]`

****
* The search is case-insensitive. e.g *`find chicken`* will match `_Chicken_`.
* The order of the keywords does not matter. e.g. *`find Rice Chicken`* will match `_Chicken rice_`.
* Only the name is searched.
* Only full words will be matched e.g. *`find Chic`* will not match `_Chicken_`.
* Recipes matching at least one keyword will be returned (i.e. "OR" search). E.g. *`find Chicken Pizza`* will return `_Chicken rice_` and `_Pizza_`.
****

Examples:

* *`find chicken`* +
Returns `_Chicken rice_` and `_Chicken pizza_`.
* *`find chicken fish pasta`* +
Returns any recipe having substrings `_chicken_`, `_fish_`, or `_pasta_`.

=== *`group`* : Creating a custom group of recipes

Creates a group of one or multiple recipes by the index or indices used in the last recipe listing.

Format: `group group_name/GROUP_NAME index/INDEX [index/INDEX]`

****
* The index refers to the index number shown in the most recent listing.
* The index *must be a positive integer*, e.g. "1, 2, 3, …"..
* Only the name is searched.
* Only full words will be matched e.g. *`find Chic`* will not match `_Chicken_`.
* Recipes matching at least one keyword will be returned (i.e. "OR" search). E.g. *`find Chicken Pizza`* will return `_Chicken rice_` and `_Pizza_`.
****

Examples:

* *`list`* +
*`group group_name/ My best index/ 1 index/ 3`* +
Creates a group that contains 1st recipe and 3rd recipe and names the group as `_My best_`.

=== *`help`* : Viewing help

Shows the user guide.

Format: `help`

=== *`history`* : Listing entered commands

Lists all the commands that you have entered in reverse chronological order.

Format: `history`

[TIP]
====
Pressing the kbd:[&uarr;] and kbd:[&darr;] arrows while holding down kbd:[Ctrl] will display the previous and next input respectively in the command box.
====

=== *`ingredient`* : Locating recipes by ingredients

Finds recipes whose ingredients contain all of the given keywords.

Format: `ingredient KEYWORD [MORE_KEYWORDS]`

****
* The search is case insensitive. e.g *`ingredient chicken`* will match _Chicken_.
* Only the ingredients are searched.
* Only full words will be matched e.g. *`ingredient Chic`* will not match `_Chicken_`.
* Only recipes matching all keywords will be returned (i.e. "AND" search). E.g. *`ingredient Chicken Pizza`* will only return recipes with both _Chicken_ AND _Pizza_ as their ingredients.
****

Examples:

* *`ingredient chicken`* +
Returns recipe with ingredient _Chicken_.
* *`ingredient chicken fish pasta`* +
Returns only recipes that contain all `_chicken_`, `_fish_`, and `_pasta_` as ingredients.

=== *`list`* : Listing all recipes

Shows a list of all recipes in the recipe book.

Format: `list`

//tag::web-parse[]
=== *`parse`* : Parsing a recipe from a website

Gets a recipe from a website loaded in the browser panel.

Format: `parse`

To use this command, you do a `search` first (See <<Search>>) then select a recipe. +
Suppose you have that done and you are at this step (see <<fig-InternetSearchResult0>>) +
{nbsp} +

[[fig-InternetSearchResult0]]
.After you click on a result
image::InternetSearchResult.png[width="750"]

{nbsp} +
Type in *`parse`*, press kbd:[Enter] and you have <<fig-ParseCommand>>. +
{nbsp} +
[[fig-ParseCommand]]
.Parsed result
image::ParsedResult.png[width="750"]
[TIP]
After that, you can add more fields if you want, or you can just press kbd:[Enter] to submit an `add` command!

[NOTE]
Currently only http://recipes.wikia.com/ is supported!
//end::web-parse[]

=== *`redo`* : Redoing the previously undone command

Reverses the most recent *`undo`* command.

Format: `redo`

Examples:

* *`delete 1`* +
*`undo`* +
Reverses the *`delete 1`* command +
*`redo`* +
Reapplies the *`delete 1`* command +

* *`delete 1`* +
*`redo`* +
The *`redo`* command fails as there are no *`undo`* commands executed previously.

* *`delete 1`* +
*`clear`* +
*`undo`* +
Reverses the *`clear`* command +
*`undo`* +
Reverses the *`delete 1`* command +
*`redo`* +
Reapplies the *`delete 1`* command +
*`redo`* +
Reapplies the *`clear`* command +

=== Saving the data

ReciRecipé saves data in the hard disk automatically after any command that changes the data (`add`, `edit`, `clear`, ...). +
There is no need to save manually.

//tag::internet-search[]
[[Search]]
=== *`search`* : Searching on the Internet

Searches for your recipe on the Internet.

Format: `search RECIPE_NAME`

See <<fig-InternetSearchCommand>> for more information. +
{nbsp}

[[fig-InternetSearchCommand]]
.Searching for your recipe on the Internet directly from ReciRecipé
image::InternetSearchCommand.png[width="750"]
{nbsp} +
Examples:

* *`search chicken rice`* +
You will be brought to the result page and from there, you can select any recipes that you want. See <<fig-InternetSearchResult>>. +
{nbsp} +
+
[[fig-InternetSearchResult]]
.After you click on a result
image::InternetSearchResult.png[width="750"]
//end::internet-search[]

=== *`select`* : Selecting a recipe

Selects the recipe identified by the index number used in the last recipe listing.

Format: `select INDEX`

****
* If the selected recipe has a URL, the in-app browser will load that URL. Otherwise, it will load the recipe contents.
* The result box will always show the recipe content regardless of whether there is an embedded URL or not.
* The index refers to the index number shown in the most recent listing.
* The index *must be a positive integer*, e.g. "1, 2, 3, ...".
****

Examples:

* *`list`* +
*`select 2`* +
Selects the 2nd recipe in the recipe book.
* *`find Chicken`* +
*`select 1`* +
Selects the 1st recipe in the results of the *`find`* command.

=== *`share`*: Sharing a recipe on Facebook

Initiates the sharing of a recipe to Facebook, identified by the index number used in the last recipe listing.

Format: `share INDEX`

****
* The index refers to the index number shown in the most recent listing.
* The index *must be a positive integer*, e.g. "1, 2, 3, ...".
****

Examples:

* *`list`* +
*`share 2`* +
Shares the 2nd recipe in the recipe book.
The contents in the recipe will be copied to the clipboard for the User to paste into the Facebook post.
The Facebook authentication page is shown on the browser for the User to log in.
Upon logging in: if the shared recipe has a URL, the in-app browser will load a feed dialog for the User to share the URL as shown below (see <<fig-FacebookFeedDialog>>).
[[fig-FacebookFeedDialog]]
.Facebook Feed Dialog
image::FacebookFeedDialog.jpg[width="600"]
{nbsp} +
The User will be redirected back to his/her Facebook feed once the post has been made.

* *`find Chicken`* +
*`share 1`* +
Shares the 1st recipe in the results of the *`find`* command in a similar fashion as described in the previous example.

=== *`tag`* : Locating recipes by tags

Finds recipe whose tags contain any of the given keywords.

Format: `tag KEYWORD [MORE_KEYWORDS]`

****
* The search is case sensitive. For example, *`tag drinks`* will not match `_Drinks_`.
* Only the tags are searched.
* Only full words will be matched. For example, *`tag drinks`* will not match `_drink_`.
* Recipes matching at least one keyword will be returned (i.e. "OR" search). E.g. *`tag fast drink`* will return recipes with either `_fast_` OR `_drink_` as one of their tags.
****

Examples:

* *`tag drink`* +
Returns all recipes with the tag `_drink_`.
* *`tag drink food`* +
Returns any recipe with the tag `_drink_` or `_food_`.

//tag::change-theme[]
=== *`theme`* : Changing theme

Toggles between dark and light theme.

Format: `theme`

See <<fig-ChangeThemeCommand>> for more information. +
{nbsp}

[[fig-ChangeThemeCommand]]
.Two themes provided for ReciRecipé
image::ChangeThemeCommand.png[width="750"]
{nbsp} +
[TIP]
You can change theme from the menu bar or by pressing F2 too!
//end::change-theme[]

[[token]]
=== *`token`* : Exchanging authorization code for access token

Takes in the code given during the user's authorization of our app in Dropbox and coverts it into an access token that can be used to upload files to that specific Dropbox account.

Format: `token authorizationCode`

See <<fig-AuthorizationCode>> for more information. +
{nbsp}

[[fig-AuthorizationCode]]
.Allow ReciRecipé access to your Dropbox
image::AuthorizationCode.PNG[width="750"]
{nbsp} +

=== *`undo`* : Undoing previous command

Restores the recipe book to the state before the previous _undoable_ command was executed.

Format: `undo`

[NOTE]
====
Undoable commands: those commands that modify the recipe book's content (*`add`*, *`delete`*, *`edit`*, and *`clear`*).
====

Examples:

* *`delete 1`* +
*`list`* +
*`undo`* (reverses the `delete 1` command) +

* *`select 1`* +
*`list`* +
*`undo`* +
The *`undo`* command fails as there are no undoable commands executed previously.

* *`delete 1`* +
*`clear`* +
*`undo`* (reverses the *`clear`* command) +
*`undo`* (reverses the *`delete 1`* command) +

=== *`upload`* : Uploading all recipes

Uploads the xml file containing data of all recipes to Dropbox, giving it the specified filename.

Format: `upload FILENAME`

****
* The filename must not contain any invalid characters as defined by Dropbox https://www.dropbox.com/help/syncing-uploads/files-not-syncing[here].
* The filename will be concatenated with .xml to maintain formatting.
* If that exact filename already exists in the user's Dropbox, one of two things will happen:
** File will not be uploaded if contents of the two files are similar.
** File will be uploaded and renamed to *_FILENAME(1..)_* if contents of the two files are different.
****

[NOTE]
====
If it is the first time the user is using the `upload` command, you will be prompted to login to Dropbox and authorize this app.
An authorization code will then be given to you which you should copy and paste into this app. See <<token>> for details.
====

Examples:

* *`upload RecipeBook`* +
Data file will be uploaded to Dropbox with the name RecipeBook.xml.
* Perform any *`add`*, *`delete`* or *`edit`* commands.
* *`upload RecipeBook`* +
Updated data file will be uploaded to Dropbox with the name RecipeBook(1).xml.

=== *`view_group`* : Viewing groups of recipes

Views recipes inside a group.

Format: `view_group GROUP_NAME`

Examples:

* *`view_group My best`* +
Lists all recipes inside `_My best_` group.

== Upcoming features

=== *`pull`* : Getting a recipe from the recipes database (Coming in v2.0)

Downloads a recipe from the recipes server.

Format: `pull RECIPE_NAME`

Examples:

* *`pull chicken rice`* +
Downloads all recipes that match the query `_Chicken rice_` from the server.

=== *`push`* : Uploading a recipe to the recipes database (Coming in v2.0)

Uploads a selected recipe to the recipes server.

Format: `push INDEX`

****
* If the selected recipe has a URL, the in-app browser will load that URL.
* The index refers to the index number shown in the most recent listing.
* The index *must be a positive integer*, e.g. "1, 2, 3, ...".
****

Examples:

* *`push 6`* +
Uploads the 6th recipe in the recipe book to the server.

== FAQ

*Q*: How do I transfer my data to another computer? +
*A*: Install the app on the other computer and overwrite the empty data file it creates with the file that contains the data of your previous ReciRecipé.

*Q*: Where do I find my data file? +
*A*: +

image::FAQ1.png[width="450"]
{nbsp}

Q: There is still something I don't understand after reading this guide! +
A: Please https://github.com/CS2103JAN2018-F09-B2/main/issues[create a new issue in our repo] about what you're confused about. We will try our best to answer your query.

*Q*: I found a bug in your program, what should I do? +
*A*: Please https://github.com/CS2103JAN2018-F09-B2/main/issues[create a new issue in our repo] describing the problem you encountered as detailed as possible.

*Q*: I know how to code, how can I contribute to your project? +
*A*: Code contributors are always appreciated! Please https://github.com/CS2103JAN2018-F09-B2/main/pulls[create a PR] with your contribution. You might want to take a look at the <<DeveloperGuide#,Developer Guide>> to get started.

== Cheatsheet
[width=90%, cols="1,9"]
|===
| Command | Format and example

.2+|    *Add*               |   `add name/RECIPE_NAME [ingredient/INGREDIENT] [instruction/INSTRUCTION] [cooking_time/COOKING_TIME] [preparation_time/PREPARATION_TIME] [calories/CALORIES] [servings/SERVINGS] [url/URL] [img/IMAGE] [tag/TAG]...`
                            |   E.g. *`add name/Chicken Rice ingredient/chicken, rice cooking_time/10m tag/good tag/fast`*
.2+|    *Change theme*      |  `theme`
                            |  *`theme`*
.2+|    *Clear*             |  `clear`
                            |  *`clear`*
.2+|    *Delete*            |  `delete INDEX`
                            |   E.g. *`delete 3`*
.2+|    *Edit*              |  `edit INDEX [name/RECIPE_NAME] [ingredient/INGREDIENT] [instruction/INSTRUCTION] [cooking_time/COOKING_TIME] [preparation_time/PREPARATION_TIME] [calories/CALORIES] [servings/SERVINGS] [url/URL] [img/IMAGE] [tag/TAG]`
                            |   E.g. *`edit 2 name/Chicken pizza ingredient/INGREDIENT/flour,chicken,pepper`*
.2+|    *Find*              |  `find KEYWORD [MORE_KEYWORDS]`
                            |   E.g. *`find Chicken Pizza`*
.2+|    *Group*             |  `group group_name/GROUP_NAME index/INDEX [index/INDEX]`
                            |   E.g. *`group group_name/ Best index/ 1 index/ 3`*
.2+|    *Help*              |  `help`
                            |  *`help`*
.2+|    *History*           |  `history`
                            |  *`history`*
.2+|    *Internet search*   |  `search RECIPE_NAME`
                            |   E.g. *`search chicken rice`*
.2+|    *List*              |  `list`
                            |  *`list`*
.2+|    *Parse*             |  `parse`
                            |  *`parse`*
.2+|    *Redo*              |  `redo`
                            |  *`redo`*
.2+|    *Select*            |  `select INDEX`
                            |   E.g.*`select 2`*
.2+|    *Share*             |  `share INDEX`
                            |   E.g.*`share 2`*
.2+|    *Tag*               |  `tag KEYWORD [MORE_KEYWORDS]`
                            |   E.g. *`tag chicken favourites`*
.2+|    *Token*             |   `token AuthorizationCode`
                            |   E.g. *`token validCode`*
.2+|    *Undo*              |  `undo`
                            |  *`undo`*
.2+|    *Upload*            |  `upload FILENAME`
                            |   E.g. *`upload RecipeBook`*
.2+|    *View group*        |  `view_group GROUP_NAME`
                            |   E.g. *`view_group Best`*
|===

== Keyboard shortcuts

[width=60%, cols="2,4"]
|===
| Shortcut                  |   Function

| kbd:[Enter]               |   Command submission
| kbd:[Ctrl] + kbd:[&uarr;] |   Previous command
| kbd:[Ctrl] + kbd:[&darr;] |   Next command
| kbd:[Shift] + kbd:[Enter] |   New line in command
| kbd:[Shift] + kbd:[Tab]   |   Show command suggestions
| kbd:[Tab]                 |   Next field in command
|===

== Glossary

include::./Glossary.adoc[]

ifndef::env-github[]
include::./NavBar.adoc[]
endif::[]
